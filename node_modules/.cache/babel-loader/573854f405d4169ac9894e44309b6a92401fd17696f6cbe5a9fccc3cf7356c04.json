{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import{HelmetProvider}from'react-helmet-async';import{BrowserRouter}from'react-router-dom';import'./index.css';import App from'./App';import reportWebVitals from'./reportWebVitals';// Safe SPA initialization with guards to prevent double initialization\nimport{jsx as _jsx}from\"react/jsx-runtime\";function startApp(){// Prevent multiple initialization attempts\nif(window.__APP_STARTED__){console.warn('App already started, skipping duplicate initialization');return;}window.__APP_STARTED__=true;// Ensure root element exists\nconst rootElement=document.getElementById('root');if(!rootElement){console.error('Root element not found - cannot start app');return;}try{const root=ReactDOM.createRoot(rootElement);root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(HelmetProvider,{children:/*#__PURE__*/_jsx(App,{})})})}));// Performance-optimized service worker for 100/100 scores\nif('serviceWorker'in navigator&&process.env.NODE_ENV==='production'){window.addEventListener('load',()=>{navigator.serviceWorker.register('/sw.js',{scope:'/',updateViaCache:'none'}).then(registration=>{console.log('Performance SW registered successfully');}).catch(error=>{console.warn('SW registration failed:',error);});});}// Performance monitoring (development only)\nif(process.env.NODE_ENV==='development'){reportWebVitals(metric=>{// Log metrics for debugging (dev only)\nconsole.log(metric.name,Math.round(metric.value));});}console.log('SPA initialized successfully');}catch(error){console.error('Failed to initialize SPA:',error);// Fallback error UI\nrootElement.innerHTML='<h1>Loading Error</h1><p>Please <a href=\"/\">refresh the page</a>.</p>';}}// Start app when DOM is ready\nif(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',startApp,{once:true});}else{// DOM already loaded\nstartApp();}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}