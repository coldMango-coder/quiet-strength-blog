{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import{HelmetProvider}from'react-helmet-async';import{BrowserRouter}from'react-router-dom';import'./index.css';import App from'./App';import reportWebVitals from'./reportWebVitals';// Safe SPA initialization with guards to prevent double initialization\nimport{jsx as _jsx}from\"react/jsx-runtime\";function startApp(){// Prevent multiple initialization attempts\nif(window.__APP_STARTED__){console.warn('App already started, skipping duplicate initialization');return;}window.__APP_STARTED__=true;// Ensure root element exists\nconst rootElement=document.getElementById('root');if(!rootElement){console.error('Root element not found - cannot start app');return;}try{const root=ReactDOM.createRoot(rootElement);root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(HelmetProvider,{children:/*#__PURE__*/_jsx(App,{})})})}));// Performance-optimized service worker for 100/100 scores\nif('serviceWorker'in navigator&&process.env.NODE_ENV==='production'){window.addEventListener('load',()=>{navigator.serviceWorker.register('/sw.js',{scope:'/',updateViaCache:'none'}).then(registration=>{console.log('Performance SW registered successfully');}).catch(error=>{console.warn('SW registration failed:',error);});});}// Performance monitoring (development only)\nif(process.env.NODE_ENV==='development'){reportWebVitals(metric=>{// Log metrics for debugging (dev only)\nconsole.log(metric.name,Math.round(metric.value));});}console.log('SPA initialized successfully');}catch(error){console.error('Failed to initialize SPA:',error);// Fallback error UI\nrootElement.innerHTML='<h1>Loading Error</h1><p>Please <a href=\"/\">refresh the page</a>.</p>';}}// Start app when DOM is ready\nif(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',startApp,{once:true});}else{// DOM already loaded\nstartApp();}","map":{"version":3,"names":["React","ReactDOM","HelmetProvider","BrowserRouter","App","reportWebVitals","jsx","_jsx","startApp","window","__APP_STARTED__","console","warn","rootElement","document","getElementById","error","root","createRoot","render","StrictMode","children","navigator","process","env","NODE_ENV","addEventListener","serviceWorker","register","scope","updateViaCache","then","registration","log","catch","metric","name","Math","round","value","innerHTML","readyState","once"],"sources":["C:/Users/Jurek2/Downloads/Project_WEB_01/src/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n// Safe SPA initialization with guards to prevent double initialization\r\nfunction startApp() {\r\n  // Prevent multiple initialization attempts\r\n  if (window.__APP_STARTED__) {\r\n    console.warn('App already started, skipping duplicate initialization');\r\n    return;\r\n  }\r\n  window.__APP_STARTED__ = true;\r\n\r\n  // Ensure root element exists\r\n  const rootElement = document.getElementById('root');\r\n  if (!rootElement) {\r\n    console.error('Root element not found - cannot start app');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const root = ReactDOM.createRoot(rootElement);\r\n    root.render(\r\n      <React.StrictMode>\r\n        <BrowserRouter>\r\n          <HelmetProvider>       \r\n            <App />\r\n          </HelmetProvider>   \r\n        </BrowserRouter>\r\n      </React.StrictMode>\r\n    );\r\n\r\n    // Performance-optimized service worker for 100/100 scores\r\n    if ('serviceWorker' in navigator && process.env.NODE_ENV === 'production') {\r\n      window.addEventListener('load', () => {\r\n        navigator.serviceWorker.register('/sw.js', { \r\n          scope: '/',\r\n          updateViaCache: 'none'\r\n        })\r\n        .then((registration) => {\r\n          console.log('Performance SW registered successfully');\r\n        })\r\n        .catch((error) => {\r\n          console.warn('SW registration failed:', error);\r\n        });\r\n      });\r\n    }\r\n\r\n    // Performance monitoring (development only)\r\n    if (process.env.NODE_ENV === 'development') {\r\n      reportWebVitals((metric) => {\r\n        // Log metrics for debugging (dev only)\r\n        console.log(metric.name, Math.round(metric.value));\r\n      });\r\n    }\r\n    \r\n    console.log('SPA initialized successfully');\r\n  } catch (error) {\r\n    console.error('Failed to initialize SPA:', error);\r\n    // Fallback error UI\r\n    rootElement.innerHTML = '<h1>Loading Error</h1><p>Please <a href=\"/\">refresh the page</a>.</p>';\r\n  }\r\n}\r\n\r\n// Start app when DOM is ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', startApp, { once: true });\r\n} else {\r\n  // DOM already loaded\r\n  startApp();\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,cAAc,KAAQ,oBAAoB,CACnD,OAASC,aAAa,KAAQ,kBAAkB,CAChD,MAAO,aAAa,CACpB,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAE/C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB;AACA,GAAIC,MAAM,CAACC,eAAe,CAAE,CAC1BC,OAAO,CAACC,IAAI,CAAC,wDAAwD,CAAC,CACtE,OACF,CACAH,MAAM,CAACC,eAAe,CAAG,IAAI,CAE7B;AACA,KAAM,CAAAG,WAAW,CAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CACnD,GAAI,CAACF,WAAW,CAAE,CAChBF,OAAO,CAACK,KAAK,CAAC,2CAA2C,CAAC,CAC1D,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,IAAI,CAAGhB,QAAQ,CAACiB,UAAU,CAACL,WAAW,CAAC,CAC7CI,IAAI,CAACE,MAAM,cACTZ,IAAA,CAACP,KAAK,CAACoB,UAAU,EAAAC,QAAA,cACfd,IAAA,CAACJ,aAAa,EAAAkB,QAAA,cACZd,IAAA,CAACL,cAAc,EAAAmB,QAAA,cACbd,IAAA,CAACH,GAAG,GAAE,CAAC,CACO,CAAC,CACJ,CAAC,CACA,CACpB,CAAC,CAED;AACA,GAAI,eAAe,EAAI,CAAAkB,SAAS,EAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAAE,CACzEhB,MAAM,CAACiB,gBAAgB,CAAC,MAAM,CAAE,IAAM,CACpCJ,SAAS,CAACK,aAAa,CAACC,QAAQ,CAAC,QAAQ,CAAE,CACzCC,KAAK,CAAE,GAAG,CACVC,cAAc,CAAE,MAClB,CAAC,CAAC,CACDC,IAAI,CAAEC,YAAY,EAAK,CACtBrB,OAAO,CAACsB,GAAG,CAAC,wCAAwC,CAAC,CACvD,CAAC,CAAC,CACDC,KAAK,CAAElB,KAAK,EAAK,CAChBL,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAEI,KAAK,CAAC,CAChD,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAEA;AACA,GAAIO,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CAC1CpB,eAAe,CAAE8B,MAAM,EAAK,CAC1B;AACAxB,OAAO,CAACsB,GAAG,CAACE,MAAM,CAACC,IAAI,CAAEC,IAAI,CAACC,KAAK,CAACH,MAAM,CAACI,KAAK,CAAC,CAAC,CACpD,CAAC,CAAC,CACJ,CAEA5B,OAAO,CAACsB,GAAG,CAAC,8BAA8B,CAAC,CAC7C,CAAE,MAAOjB,KAAK,CAAE,CACdL,OAAO,CAACK,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD;AACAH,WAAW,CAAC2B,SAAS,CAAG,uEAAuE,CACjG,CACF,CAEA;AACA,GAAI1B,QAAQ,CAAC2B,UAAU,GAAK,SAAS,CAAE,CACrC3B,QAAQ,CAACY,gBAAgB,CAAC,kBAAkB,CAAElB,QAAQ,CAAE,CAAEkC,IAAI,CAAE,IAAK,CAAC,CAAC,CACzE,CAAC,IAAM,CACL;AACAlC,QAAQ,CAAC,CAAC,CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}