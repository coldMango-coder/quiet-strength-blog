{"ast":null,"code":"import _objectSpread from\"C:/Users/Jurek2/Downloads/Project_WEB_01/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/Jurek2/Downloads/Project_WEB_01/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"src\",\"alt\",\"className\",\"width\",\"height\",\"loading\",\"sizes\",\"priority\"];import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OptimizedImage=_ref=>{let{src,alt,className='',width,height,loading='lazy',sizes='(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',priority=false}=_ref,props=_objectWithoutProperties(_ref,_excluded);const[loaded,setLoaded]=useState(false);const[error,setError]=useState(false);// Generate responsive srcset for different formats\nconst generateResponsiveSrcSet=(originalSrc,format)=>{var _originalSrc$match;if(!originalSrc)return'';const baseName=originalSrc.replace(/\\.[^/.]+$/,'');const extension=format==='avif'?'.avif':format==='webp'?'.webp':((_originalSrc$match=originalSrc.match(/\\.[^/.]+$/))===null||_originalSrc$match===void 0?void 0:_originalSrc$match[0])||'.jpg';// Generate multiple sizes for responsive images\nif(width&&height){const w1x=Math.round(width);const w2x=Math.round(width*2);return\"\".concat(baseName).concat(extension,\" \").concat(w1x,\"w, \").concat(baseName).concat(extension,\" \").concat(w2x,\"w\");}return\"\".concat(baseName).concat(extension);};const handleLoad=()=>setLoaded(true);const handleError=()=>setError(true);if(error||!src){return/*#__PURE__*/_jsx(\"div\",{className:\"relative overflow-hidden bg-gray-200 \".concat(className),style:{aspectRatio:width&&height?\"\".concat(width,\"/\").concat(height):'16/9',minHeight:'200px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\",clipRule:\"evenodd\"})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden \".concat(className),style:{aspectRatio:width&&height?\"\".concat(width,\"/\").concat(height):undefined},children:[!loaded&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center\",style:{minHeight:'200px'},children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"picture\",{children:[/*#__PURE__*/_jsx(\"source\",{srcSet:generateResponsiveSrcSet(src,'avif'),type:\"image/avif\",sizes:sizes}),/*#__PURE__*/_jsx(\"source\",{srcSet:generateResponsiveSrcSet(src,'webp'),type:\"image/webp\",sizes:sizes}),/*#__PURE__*/_jsx(\"img\",_objectSpread({src:src,alt:alt,width:width,height:height,loading:priority?'eager':loading,fetchPriority:priority?'high':'auto',decoding:priority?'sync':'async',sizes:sizes,onLoad:handleLoad,onError:handleError,className:\"w-full h-full object-cover transition-opacity duration-300 \".concat(loaded?'opacity-100':'opacity-0'),style:{aspectRatio:width&&height?\"\".concat(width,\"/\").concat(height):undefined}},props))]})]});};export default OptimizedImage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","OptimizedImage","_ref","src","alt","className","width","height","loading","sizes","priority","props","_objectWithoutProperties","_excluded","loaded","setLoaded","error","setError","generateResponsiveSrcSet","originalSrc","format","_originalSrc$match","baseName","replace","extension","match","w1x","Math","round","w2x","concat","handleLoad","handleError","style","aspectRatio","minHeight","children","fill","viewBox","fillRule","d","clipRule","undefined","srcSet","type","_objectSpread","fetchPriority","decoding","onLoad","onError"],"sources":["C:/Users/Jurek2/Downloads/Project_WEB_01/src/components/OptimizedImage.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst OptimizedImage = ({ \n  src, \n  alt, \n  className = '', \n  width, \n  height, \n  loading = 'lazy',\n  sizes = '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',\n  priority = false,\n  ...props \n}) => {\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n\n  // Generate responsive srcset for different formats\n  const generateResponsiveSrcSet = (originalSrc, format) => {\n    if (!originalSrc) return '';\n    const baseName = originalSrc.replace(/\\.[^/.]+$/, '');\n    const extension = format === 'avif' ? '.avif' : format === 'webp' ? '.webp' : originalSrc.match(/\\.[^/.]+$/)?.[0] || '.jpg';\n    \n    // Generate multiple sizes for responsive images\n    if (width && height) {\n      const w1x = Math.round(width);\n      const w2x = Math.round(width * 2);\n      return `${baseName}${extension} ${w1x}w, ${baseName}${extension} ${w2x}w`;\n    }\n    return `${baseName}${extension}`;\n  };\n\n  const handleLoad = () => setLoaded(true);\n  const handleError = () => setError(true);\n\n  if (error || !src) {\n    return (\n      <div \n        className={`relative overflow-hidden bg-gray-200 ${className}`}\n        style={{ \n          aspectRatio: width && height ? `${width}/${height}` : '16/9',\n          minHeight: '200px'\n        }}\n      >\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <svg className=\"w-8 h-8 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className={`relative overflow-hidden ${className}`}\n      style={{ \n        aspectRatio: width && height ? `${width}/${height}` : undefined,\n      }}\n    >\n      {!loaded && (\n        <div \n          className=\"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center\"\n          style={{ minHeight: '200px' }}\n        >\n          <svg className=\"w-8 h-8 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n      )}\n      \n      <picture>\n        <source \n          srcSet={generateResponsiveSrcSet(src, 'avif')} \n          type=\"image/avif\" \n          sizes={sizes}\n        />\n        <source \n          srcSet={generateResponsiveSrcSet(src, 'webp')} \n          type=\"image/webp\" \n          sizes={sizes}\n        />\n        <img\n          src={src}\n          alt={alt}\n          width={width}\n          height={height}\n          loading={priority ? 'eager' : loading}\n          fetchPriority={priority ? 'high' : 'auto'}\n          decoding={priority ? 'sync' : 'async'}\n          sizes={sizes}\n          onLoad={handleLoad}\n          onError={handleError}\n          className={`w-full h-full object-cover transition-opacity duration-300 ${loaded ? 'opacity-100' : 'opacity-0'}`}\n          style={{ aspectRatio: width && height ? `${width}/${height}` : undefined }}\n          {...props}\n        />\n      </picture>\n    </div>\n  );\n\n};\n\nexport default OptimizedImage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}