{"ast":null,"code":"/**\n * Normalizes internal links to ensure consistency with canonical URLs\n * @param {string} href - The href attribute to normalize\n * @returns {string} - The normalized href\n */\nexport function normalizeHref(href) {\n  if (!href || typeof href !== 'string') {\n    return href;\n  }\n\n  // Skip external links, mailto, tel, etc.\n  if (href.startsWith('http') && !href.startsWith('http://trueallyguide.com') && !href.startsWith('https://trueallyguide.com') && !href.startsWith('http://www.trueallyguide.com') && !href.startsWith('https://www.trueallyguide.com')) {\n    return href;\n  }\n  if (href.startsWith('mailto:') || href.startsWith('tel:') || href.startsWith('#') || href.startsWith('javascript:')) {\n    return href;\n  }\n  let normalizedHref = href;\n\n  // Convert http to https and remove www for our domain (case insensitive)\n  normalizedHref = normalizedHref.replace(/^http:\\/\\/(www\\.)?trueallyguide\\.com/i, 'https://trueallyguide.com');\n  normalizedHref = normalizedHref.replace(/^https:\\/\\/www\\.trueallyguide\\.com/i, 'https://trueallyguide.com');\n\n  // Extract path for internal links\n  let path = normalizedHref;\n  if (normalizedHref.startsWith('https://trueallyguide.com')) {\n    path = normalizedHref.replace('https://trueallyguide.com', '') || '/';\n  }\n\n  // Remove query parameters and hash for normalization (but keep in final URL)\n  const [pathPart, queryAndHash] = path.split(/[?#]/);\n  let normalizedPath = pathPart;\n\n  // Convert to lowercase\n  normalizedPath = normalizedPath.toLowerCase();\n\n  // Remove trailing slash except for root\n  if (normalizedPath !== '/' && normalizedPath.endsWith('/')) {\n    normalizedPath = normalizedPath.slice(0, -1);\n  }\n\n  // Get query and hash parts from the original href\n  const queryHashPart = href.includes('?') || href.includes('#') ? href.substring(href.search(/[?#]/)) : '';\n\n  // Return full URL if original was a full URL to our domain, otherwise return relative path\n  if (href.toLowerCase().startsWith('http://') || href.toLowerCase().startsWith('https://')) {\n    return `https://trueallyguide.com${normalizedPath === '/' ? '/' : normalizedPath}${queryHashPart}`;\n  }\n\n  // For relative paths, just return the normalized path\n  return `${normalizedPath === '/' ? '/' : normalizedPath}${queryHashPart}`;\n}","map":{"version":3,"names":["normalizeHref","href","startsWith","normalizedHref","replace","path","pathPart","queryAndHash","split","normalizedPath","toLowerCase","endsWith","slice","queryHashPart","includes","substring","search"],"sources":["C:/Users/Jurek2/Downloads/Project_WEB_01/src/lib/seo/normalizeHref.js"],"sourcesContent":["/**\n * Normalizes internal links to ensure consistency with canonical URLs\n * @param {string} href - The href attribute to normalize\n * @returns {string} - The normalized href\n */\nexport function normalizeHref(href) {\n  if (!href || typeof href !== 'string') {\n    return href;\n  }\n  \n  // Skip external links, mailto, tel, etc.\n  if (href.startsWith('http') && !href.startsWith('http://trueallyguide.com') && !href.startsWith('https://trueallyguide.com') && !href.startsWith('http://www.trueallyguide.com') && !href.startsWith('https://www.trueallyguide.com')) {\n    return href;\n  }\n  \n  if (href.startsWith('mailto:') || href.startsWith('tel:') || href.startsWith('#') || href.startsWith('javascript:')) {\n    return href;\n  }\n  \n  let normalizedHref = href;\n  \n  // Convert http to https and remove www for our domain (case insensitive)\n  normalizedHref = normalizedHref.replace(/^http:\\/\\/(www\\.)?trueallyguide\\.com/i, 'https://trueallyguide.com');\n  normalizedHref = normalizedHref.replace(/^https:\\/\\/www\\.trueallyguide\\.com/i, 'https://trueallyguide.com');\n  \n  // Extract path for internal links\n  let path = normalizedHref;\n  if (normalizedHref.startsWith('https://trueallyguide.com')) {\n    path = normalizedHref.replace('https://trueallyguide.com', '') || '/';\n  }\n  \n  // Remove query parameters and hash for normalization (but keep in final URL)\n  const [pathPart, queryAndHash] = path.split(/[?#]/);\n  let normalizedPath = pathPart;\n  \n  // Convert to lowercase\n  normalizedPath = normalizedPath.toLowerCase();\n  \n  // Remove trailing slash except for root\n  if (normalizedPath !== '/' && normalizedPath.endsWith('/')) {\n    normalizedPath = normalizedPath.slice(0, -1);\n  }\n  \n  // Get query and hash parts from the original href\n  const queryHashPart = href.includes('?') || href.includes('#') ? \n    href.substring(href.search(/[?#]/)) : '';\n  \n  // Return full URL if original was a full URL to our domain, otherwise return relative path\n  if (href.toLowerCase().startsWith('http://') || href.toLowerCase().startsWith('https://')) {\n    return `https://trueallyguide.com${normalizedPath === '/' ? '/' : normalizedPath}${queryHashPart}`;\n  }\n  \n  // For relative paths, just return the normalized path\n  return `${normalizedPath === '/' ? '/' : normalizedPath}${queryHashPart}`;\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,aAAaA,CAACC,IAAI,EAAE;EAClC,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACrC,OAAOA,IAAI;EACb;;EAEA;EACA,IAAIA,IAAI,CAACC,UAAU,CAAC,MAAM,CAAC,IAAI,CAACD,IAAI,CAACC,UAAU,CAAC,0BAA0B,CAAC,IAAI,CAACD,IAAI,CAACC,UAAU,CAAC,2BAA2B,CAAC,IAAI,CAACD,IAAI,CAACC,UAAU,CAAC,8BAA8B,CAAC,IAAI,CAACD,IAAI,CAACC,UAAU,CAAC,+BAA+B,CAAC,EAAE;IACrO,OAAOD,IAAI;EACb;EAEA,IAAIA,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,IAAID,IAAI,CAACC,UAAU,CAAC,MAAM,CAAC,IAAID,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAID,IAAI,CAACC,UAAU,CAAC,aAAa,CAAC,EAAE;IACnH,OAAOD,IAAI;EACb;EAEA,IAAIE,cAAc,GAAGF,IAAI;;EAEzB;EACAE,cAAc,GAAGA,cAAc,CAACC,OAAO,CAAC,uCAAuC,EAAE,2BAA2B,CAAC;EAC7GD,cAAc,GAAGA,cAAc,CAACC,OAAO,CAAC,qCAAqC,EAAE,2BAA2B,CAAC;;EAE3G;EACA,IAAIC,IAAI,GAAGF,cAAc;EACzB,IAAIA,cAAc,CAACD,UAAU,CAAC,2BAA2B,CAAC,EAAE;IAC1DG,IAAI,GAAGF,cAAc,CAACC,OAAO,CAAC,2BAA2B,EAAE,EAAE,CAAC,IAAI,GAAG;EACvE;;EAEA;EACA,MAAM,CAACE,QAAQ,EAAEC,YAAY,CAAC,GAAGF,IAAI,CAACG,KAAK,CAAC,MAAM,CAAC;EACnD,IAAIC,cAAc,GAAGH,QAAQ;;EAE7B;EACAG,cAAc,GAAGA,cAAc,CAACC,WAAW,CAAC,CAAC;;EAE7C;EACA,IAAID,cAAc,KAAK,GAAG,IAAIA,cAAc,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;IAC1DF,cAAc,GAAGA,cAAc,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC9C;;EAEA;EACA,MAAMC,aAAa,GAAGZ,IAAI,CAACa,QAAQ,CAAC,GAAG,CAAC,IAAIb,IAAI,CAACa,QAAQ,CAAC,GAAG,CAAC,GAC5Db,IAAI,CAACc,SAAS,CAACd,IAAI,CAACe,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE;;EAE1C;EACA,IAAIf,IAAI,CAACS,WAAW,CAAC,CAAC,CAACR,UAAU,CAAC,SAAS,CAAC,IAAID,IAAI,CAACS,WAAW,CAAC,CAAC,CAACR,UAAU,CAAC,UAAU,CAAC,EAAE;IACzF,OAAO,4BAA4BO,cAAc,KAAK,GAAG,GAAG,GAAG,GAAGA,cAAc,GAAGI,aAAa,EAAE;EACpG;;EAEA;EACA,OAAO,GAAGJ,cAAc,KAAK,GAAG,GAAG,GAAG,GAAGA,cAAc,GAAGI,aAAa,EAAE;AAC3E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}